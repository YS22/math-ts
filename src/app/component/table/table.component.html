<div nz-row class="table-page">

  <div class="components-table-demo-control-bar">
    <!-- 表格控制器 -->
    <form nz-form nzLayout="inline">

      <nz-form-item>
        <button nz-button="" color="primary" (click)="exportTable('table-hooks', 'test')">导出excel</button>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>边框</label>
        </nz-form-label>

        <nz-form-control>
          <nz-switch [(ngModel)]="bordered" name="bordered"></nz-switch>
        </nz-form-control>

      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>加载中</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="loading" name="loading"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>分页</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="pagination" name="pagination"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>标题</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="title" name="title"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>列头</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="header" name="header"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>页脚</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="footer" name="footer"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>展示缩放内容</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="expandable" name="expandable"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>Checkbox</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="checkbox" name="checkbox"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>固定表头(内容滚动)</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="fixHeader" name="fixHeader"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>No Result</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="noResult" (ngModelChange)="noResultChange($event)" name="noResult"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>分页样式</label>
        </nz-form-label>
        <nz-form-control>
          <nz-switch [(ngModel)]="simple" name="simple"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>
          <label>表格尺寸</label>
        </nz-form-label>
        <nz-form-control>
          <nz-radio-group [(ngModel)]="size" name="size">
            <label nz-radio-button nzValue="default">Default</label>
            <label nz-radio-button nzValue="middle">Middle</label>
            <label nz-radio-button nzValue="small">Small</label>
          </nz-radio-group>
        </nz-form-control>
      </nz-form-item>
    </form>

  </div>

  <nz-table
    id="table-hooks"
    #dynamicTable
    (nzCurrentPageDataChange)="currentPageDataChange($event)"
    [nzScroll]="fixHeader?{ y: '240px' }:null"
    [nzData]="dataSet"
    [nzBordered]="bordered"
    [nzSimple]="simple"
    [nzLoading]="loading"
    [nzFrontPagination]="pagination"
    [nzShowPagination]="pagination"
    [nzFooter]="footer?'表格页脚':null"
    [nzTitle]="title?'表格标题':null"
    [nzSize]="size">

    <thead>
    <!-- 表头 -->
    <tr *ngIf="header">
      <th nzWidth="50px" nzShowExpand *ngIf="expandable"></th>
      <th nzWidth="62px" nzShowCheckbox *ngIf="checkbox" [(nzChecked)]="allChecked" [nzIndeterminate]="indeterminate"
          (nzCheckedChange)="checkAll($event)"></th>
      <th nzWidth="150px">Name</th>
      <th nzWidth="70px">Age</th>
      <th>Address</th>
      <th nzWidth="260px">Action</th>
    </tr>
    </thead>

    <tbody>
    <!-- 表格内容 -->
    <ng-template ngFor let-data [ngForOf]="dynamicTable.data">
      <tr>
        <td nzShowExpand *ngIf="expandable" [(nzExpand)]="data.expand"></td>
        <td nzShowCheckbox *ngIf="checkbox" [(nzChecked)]="data.checked" (nzCheckedChange)="refreshStatus($event)"></td>
        <td>{{data.name}}</td>
        <td>{{data.age}}</td>
        <td>{{data.address}}</td>
        <td>
          <a (click)="addDate()">增加——{{data.name}}</a>
          <nz-divider nzType="vertical"></nz-divider>
          <a (click)="delete(data.key)">删除</a>
        </td>
      </tr>
      <!-- 隐藏的行 -->
      <tr [nzExpand]="data.expand&&expandable">
        <td></td>
        <td [attr.colspan]="checkbox?5:4">{{data.description}}</td>
      </tr>
    </ng-template>

    </tbody>

  </nz-table>

</div>
